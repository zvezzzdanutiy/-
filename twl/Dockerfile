# Используем официальный образ Golang как базовый образ
FROM --platform=linux/amd64 golang:latest

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /go/src

# Копируем содержимое текущего каталога в рабочую директорию внутри контейнера
COPY . .
RUN go mod download
# Собираем приложение
RUN go build main.go

# Запускаем приложение при запуске контейнера
CMD ["./main"]
